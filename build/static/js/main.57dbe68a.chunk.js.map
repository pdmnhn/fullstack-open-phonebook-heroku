{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","services/phonebook.js","Notification.js","App.js","index.js"],"names":["Filter","filterText","changeFilterText","value","onChange","PersonForm","addPerson","newName","changeName","newNumber","changeNumber","onSubmit","type","Persons","persons","deletePerson","map","name","number","id","onClick","baseURL","all","getAll","axios","get","then","res","data","create","newObject","post","delete","modifyPerson","modifiedPerson","put","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilterText","errorMessage","setErrorMessage","intervalID","setIntervalID","createNotification","clearTimeout","setTimeout","useEffect","phonebook","personsToShow","filter","obj","toLowerCase","includes","event","target","preventDefault","window","confirm","existingPerson","find","person","catch","newPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57dbe68a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Filter({ filterText, changeFilterText }) {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={filterText} onChange={changeFilterText} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function PersonForm({\r\n  addPerson,\r\n  newName,\r\n  changeName,\r\n  newNumber,\r\n  changeNumber,\r\n}) {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={changeName} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={changeNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Persons({ persons, deletePerson }) {\r\n  return persons.map(({ name, number, id }) => (\r\n    <div key={id}>\r\n      {name} {number}{\" \"}\r\n      <button onClick={() => deletePerson(name, id)}>delete</button>\r\n    </div>\r\n  ));\r\n}\r\n","import axios from \"axios\";\r\nconst baseURL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseURL).then((res) => res.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseURL, newObject).then((res) => res.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  return axios.delete(`${baseURL}/${id}`);\r\n};\r\n\r\nconst modifyPerson = (id, modifiedPerson) => {\r\n  return axios.put(`${baseURL}/${id}`, modifiedPerson).then((res) => res.data);\r\n};\r\n\r\nconst all = { getAll, create, deletePerson, modifyPerson };\r\nexport default all;\r\n","const style = {\r\n  color: \"red\",\r\n  background: \"lightgrey\",\r\n  fontSize: 20,\r\n  borderStyle: \"solid\",\r\n  borderRadius: 5,\r\n  padding: 10,\r\n  marginBottom: 10,\r\n};\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div style={style} className=\"error\">\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport phonebook from \"./services/phonebook\";\nimport Notification from \"./Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterText, setFilterText] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [intervalID, setIntervalID] = useState(null);\n\n  const createNotification = (message) => {\n    clearTimeout(intervalID);\n\n    setErrorMessage(message);\n\n    setIntervalID(\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000)\n    );\n  };\n  useEffect(() => {\n    phonebook.getAll().then((data) => {\n      setPersons(data);\n    });\n  }, []);\n\n  const personsToShow =\n    filterText === \"\"\n      ? persons\n      : persons.filter((obj) =>\n          obj.name.toLowerCase().includes(filterText.toLowerCase())\n        );\n\n  const changeFilterText = (event) => {\n    setFilterText(event.target.value);\n  };\n\n  const changeName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const changeNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    if (\n      persons\n        .map((obj) => obj.name.toLowerCase())\n        .includes(newName.toLowerCase())\n    ) {\n      const result = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n      if (result === true) {\n        const existingPerson = persons.find(\n          (person) => person.name.toLowerCase() === newName.toLowerCase()\n        );\n        phonebook\n          .modifyPerson(existingPerson.id, {\n            name: newName,\n            number: newNumber,\n            id: existingPerson.id,\n          })\n          .then((modifiedPerson) => {\n            setPersons(\n              persons.map((person) => {\n                return person.id !== modifiedPerson.id\n                  ? person\n                  : modifiedPerson;\n              })\n            );\n            createNotification(`Changed ${newName}`);\n          })\n          .catch(() => {\n            setPersons(\n              persons.filter((person) => person.id !== existingPerson.id)\n            );\n            createNotification(\n              `Information of ${newName} has already been removed from server`\n            );\n          });\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      };\n      phonebook.create(newPerson).then((data) => {\n        setPersons(persons.concat(data));\n        createNotification(`Added ${newName}`);\n      });\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const deletePerson = (name, id) => {\n    if (window.confirm(`Delete ${name}?`) === false) return;\n    phonebook.deletePerson(id);\n    setPersons(persons.filter((person) => person.id !== id));\n    createNotification(`Deleted ${name}`);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter filterText={filterText} changeFilterText={changeFilterText} />\n      <h1>add a new</h1>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        changeName={changeName}\n        newNumber={newNumber}\n        changeNumber={changeNumber}\n      />\n      <h1>Numbers</h1>\n      <Persons persons={personsToShow} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport React from \"react\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}